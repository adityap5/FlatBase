import{r as o,a as h,j as e,L as f,E as p,F as j}from"./main-JNmrs9IS.js";import{B as a}from"./Button-D6JpUReq.js";import{M as u}from"./Modal-PYFjVYJ2.js";import"./axios-B4uVmeYG.js";const v=({userId:g})=>{const[n,r]=o.useState([]),[d,t]=o.useState(!1),[l,c]=o.useState(null);h(),o.useEffect(()=>{(async()=>{try{const{data:i}=await p();r(i)}catch(i){console.error("Error fetching bookings:",i)}})()},[]);const x=s=>{c(s),t(!0)},m=async()=>{try{l&&(await j(l),r(n.filter(s=>s._id!==l)),t(!1),c(null))}catch(s){console.error("Error deleting booking:",s)}};return e.jsxs("div",{className:"container mx-auto px-4 py-4 md:px-20",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Your Bookings"}),n.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:n.map(s=>e.jsxs("div",{className:"p-4 shadow bg-zinc-100 rounded-xl hover:shadow-lg",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s.flat.name}),e.jsxs("p",{className:"text-zinc-500 text-xl",children:["Location: ",s.flat.location,", India"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:["How Long: ",s.timePeriod," month",s.timePeriod>1&&"s"]}),e.jsxs("p",{children:["Price: â‚¹",s.totalPrice]})]}),e.jsxs("div",{className:"flex justify-between md:gap-10",children:[e.jsx(a,{onClick:()=>x(s._id),name:"Delete Booking"}),e.jsx(f,{to:`/checkout/${s._id}`,children:e.jsx(a,{name:"Checkout"})})]})]},s._id))}):e.jsx("p",{children:"You have no bookings."}),e.jsx(u,{isOpen:d,setIsOpen:t,header:e.jsx("h2",{className:"text-lg font-semibold",children:"Confirm Deletion"}),footer:e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(a,{onClick:()=>t(!1),name:"Cancel"}),e.jsx(a,{onClick:m,name:"Delete"})]}),children:e.jsx("p",{children:"Are you sure you want to delete this booking?"})})]})};export{v as default};
